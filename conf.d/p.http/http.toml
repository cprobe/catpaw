[[partials]]
id = "default"

# # Concurrent requests to make per instance
# concurrency = 10

## Set http_proxy (catpaw uses the system wide proxy settings if it's is not set)
# http_proxy = "http://localhost:8888"

## Interface to use when dialing an address
# interface = "eth0"

## HTTP Request Method
# method = "GET"

## Set timeout (default 5 seconds)
# timeout = "5s"

## Whether to follow redirects from the server (defaults to false)
# follow_redirects = false

## Optional HTTP Basic Auth Credentials
# basic_auth_user = "username"
# basic_auth_pass = "pa$$word"

## Optional headers
# headers = ["Header-Key-1", "Header-Value-1", "Header-Key-2", "Header-Value-2"]

## Optional HTTP Request Body
# payload = '''
# {'fake':'data'}
# '''

[[instances]]
targets = [
    # "https://baidu.com",
    # "http://127.0.0.1:8888/request",
]

partial = "default"

# # gather interval
# interval = "30s"

# # Optional append labels
# labels = { env="production", team="devops" }

## Optional TLS Config
# use_tls = false
# tls_ca = "/etc/catpaw/ca.pem"
# tls_cert = "/etc/catpaw/cert.pem"
# tls_key = "/etc/catpaw/key.pem"
## Use TLS but skip chain & host verification
# insecure_skip_verify = false

## Connectivity check (always enabled, defaults to Critical)
## check label auto-set to "http::connectivity"
[instances.connectivity]
severity = "Critical"
# title_rule = "[check] [target]"

## Response time check (disabled if both thresholds are 0)
# [instances.response_time]
# warn_ge = "500ms"
# critical_ge = "2s"
# title_rule = "[check] [target]"

## TLS cert expiry check (disabled if both thresholds are 0, HTTPS only)
[instances.cert_expiry]
warn_within = "72h"
critical_within = "24h"
# title_rule = "[check] [target]"

## HTTP status code check (disabled if expect is empty)
[instances.status_code]
expect = ["20*", "30*"]
severity = "Warning"
# title_rule = "[check] [target]"

## HTTP response body check (disabled if expect_substring is empty)
[instances.response_body]
expect_substring = "html"
severity = "Warning"
# title_rule = "[check] [target]"

# 不常用的配置，默认值都是 false
# disabled = false
# disable_recovery_notification = false
[instances.alerting]
for_duration = 0
repeat_interval = "5m"
repeat_number = 3
