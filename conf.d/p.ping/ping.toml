[[partials]]
## ===== 最小可用示例（30 秒跑起来）=====
## 1) 在 instances.targets 里填主机/IP
## 2) connectivity 默认启用（不可达即 Critical）
## 3) packet_loss 默认已配置告警阈值
## 例子：
## targets = ["127.0.0.1", "8.8.8.8"]
## 常见误区：
## - ping_interval 最小 200ms，设得更小通常无效或报错
## - 部分环境禁用 ICMP，可能导致“网络通但 ping 不通”

id = "default"

## 每个 instance 并发探测数
# concurrency = 10

## 每次采集发送的 ping 包数量（等价 ping -c）
# count = 3

## 包间隔（等价 ping -i），最小 200ms
## 支持 "200ms"、"1s" 等
# ping_interval = "200ms"

## 单包等待超时（等价 ping -W）
# timeout = "3s"

## 指定源网卡/源地址（等价 ping -I / -S）
# interface = ""

## 仅使用 IPv6 解析
# ipv6 = false

## 报文 payload 大小（等价 ping -s）
# size = 56

## 连通性检测（默认启用，默认 Critical）
## check 标签固定为 "ping::connectivity"
[partials.connectivity]
severity = "Critical"
# title_rule = "[check] [target]"

## 丢包率检测（warn_ge 和 critical_ge 都为 0 则关闭）
## 单位是百分比（0~100）
## check 标签固定为 "ping::packet_loss"
[partials.packet_loss]
warn_ge = 1.0
critical_ge = 50.0
# title_rule = "[check] [target]"

## 平均 RTT 检测（warn_ge 和 critical_ge 都为 0 则关闭）
## check 标签固定为 "ping::rtt"
# [partials.rtt]
# warn_ge = "100ms"
# critical_ge = "500ms"
# title_rule = "[check] [target]"

[[instances]]
## 目标主机列表（IP 或域名）
targets = [
#    "127.0.0.1",
]

partial = "default"

## 采集间隔
# interval = "30s"

## 追加标签（可选）
# labels = { env="production", team="devops" }

[instances.alerting]
for_duration = 0
repeat_interval = "5m"
repeat_number = 3
# disabled = false
# disable_recovery_notification = false
